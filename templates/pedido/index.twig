{# Enlazar este fichero con la plantilla correspondiente #}
{% extends 'layouts/users.twig' %}

{% block title %}
  Index pedido
{% endblock %}

{% block content %}
  <!--      Tabla responsive. Hace que puedas hacer scroll horizontal (dependiendo del table-responsive 
  introducido, te permitirá hacer scroll dependiendo del tamaño y cuando se pueda, es decir, cuando empieza
  a comerse contenido a partir de cierto tamaño)      -->
  <div class="table-responsive mt-4">
    <table class="table table-striped table-responsive-md table-responsive-sm text-center mt-5 contenedorCentro">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Pedido</th>
          <th scope="col">Total</th>
          <th scope="col">Fecha</th>
        </tr>
      </thead>
      <tbody>
        {# Bucle en Twig #}
        {% for p in pedidos %}
          <tr>
            <td>{{ loop.index }}</td>
            <td>{{ p.id_pedido }}</td>
            <!-- Está formateando el número para que tenga solo 2 decimales y que se ponga la ' , ' para
            definir los decimales -->
            <td>{{ p.total|number_format(2, '.', ',') }}€</td>
            <td>{{ p.fecha }}</td>
            <td>
              <a class="btn btn-success btnSize" href="{{ url }}pedidos/show&id={{ p.id_pedido }}">Ver</a>
            </td>
          </tr>
        {% else %}
          <li class="text-center mt-5 mb-5 list-unstyled">
            <em>No se encuentran pedidos</em>
          </li>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
